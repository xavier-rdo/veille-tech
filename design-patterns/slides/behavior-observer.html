<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>OBSERVER PATTERN</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">
		<link rel="stylesheet" href="css/custom.css">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h1>DESIGN PATTERNS</h1>
					<h2 class="fragment highlight-blue">OBSERVER (aka Publisher/Subscriber)</h2>
					<strike>Creation</strike> - <strike>Structure</strike> - <strong>Behavior</strong>
				</section>

				<section>
					<h1>OBSERVER PATTERN</h1>
					<h2>Description (GoF)</h2>
					<blockquote>
						The observer pattern is a design pattern that defines a link between objects so that when one object's state changes, all dependent objects are updated automatically. This pattern allows communication between objects in a loosely coupled manner.
					</blockquote>
				</section>

				<section>
					<h2>Diagramme</h2>
					<img src="../images/Observer.png">
				</section>

				<section>
					<h2>Les interfaces de la SPL</h2>
					<ul class="fragment">
						<li><a href="http://php.net/manual/fr/class.splobserver.php">http://php.net/manual/fr/class.splobserver.php</a></li>
						<li><a href="http://php.net/manual/fr/class.splsubject.php">http://php.net/manual/fr/class.splsubject.php</a></li>
					</ul>
				</section>

				<section>
					<h2>Exemple</h2>
					<p>
						Lorsqu'une commande est validée par un client, un mail de confirmation doit lui être envoyé et les stocks des aticles mis à jour.
						<ul class="fragment">
							<li>Sujet observé = le service qui traite la validation de la commande (CheckoutOrderHandler)</li>
							<li>Observateurs :
								<ul>
							        <li>le service qui envoie le mail de confirmation (OrderConfirmationMailer)</li>
							        <li>le service qui met à jour les stocks (StockUpdater)</li>
							    </ul>
							</li>
						</ul>
					</p>
				</section>

				<section>
					<h2>Java</h2>
	<pre class="code">
		public class MyFrame extends JFrame implements ActionListener {

		public function init() {
			...
			JButton bouton = new JButton("Cliquez ici !");
			bouton.addActionListener(this);
		}

		...
		public void actionPerformed(ActionEvent e) {
			System.out.println("Vous avez cliqué ici.");
		}
	</pre>
				</section>

				<section>
					<h2>Javascript</h2>
					http://www.joezimjs.com/javascript/javascript-design-patterns-observer/
				</section>

				<section>
					<h2>Event Dispatcher de Symfony</h2>
					<p class="fragment">n'implémente pas le pattern Observer !</p>
					<blockquote class="fragment">
						The Symfony EventDispatcher component implements the <b>Mediator pattern</b> in a simple and effective way [...]
					</blockquote>
					<blockquote class="fragment">
						The mediator pattern is a design pattern that promotes loose coupling of objects by removing the need for classes to communicate with each other directly. Instead, mediator objects are used to encapsulate and centralise the interactions between classes.
					</blockquote>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
